{% extends 'base.html' %}

{% block title %} | Reset Password {% endblock %}

{% block content %}
<style>
  .reset-password-wrapper {
    min-height: calc(100vh - 100px);
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #f5f0ff 0%, #ffffff 50%, #f0f9ff 100%);
    position: relative;
    overflow: hidden;
  }

  .reset-password-wrapper::before {
    content: '';
    position: absolute;
    top: -100px;
    right: -100px;
    width: 300px;
    height: 300px;
    background: linear-gradient(135deg, #a855f7 0%, #c084fc 100%);
    border-radius: 50%;
    opacity: 0.3;
  }

  .reset-password-container {
    display: flex;
    max-width: 1100px;
    width: 90%;
    background: white;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(168, 85, 247, 0.1);
    overflow: hidden;
    position: relative;
    z-index: 1;
  }

  .reset-password-illustration {
    flex: 1;
    background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
    padding: 60px 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .reset-password-illustration svg {
    width: 100%;
    max-width: 350px;
    height: auto;
  }

  .reset-password-form-section {
    flex: 1;
    padding: 60px 50px;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .reset-password-title {
    font-size: 32px;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 40px;
    text-align: left;
  }

  .reset-password-form-group {
    margin-bottom: 24px;
  }

  .reset-password-label {
    display: block;
    font-size: 14px;
    font-weight: 600;
    color: #374151;
    margin-bottom: 8px;
  }

  .reset-password-input {
    width: 100%;
    padding: 14px 16px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    font-size: 15px;
    transition: all 0.3s ease;
    box-sizing: border-box;
  }

  .reset-password-input:focus {
    outline: none;
    border-color: #a855f7;
    box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.1);
  }

  .reset-password-button {
    width: 100%;
    padding: 14px;
    background: linear-gradient(135deg, #a855f7 0%, #9333ea 100%);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 10px;
  }

  .reset-password-button:hover {
    background: linear-gradient(135deg, #9333ea 0%, #7e22ce 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(168, 85, 247, 0.3);
  }

  .home-button-reset {
    display: inline-block;
    margin-top: 30px;
    padding: 10px 30px;
    border: 2px solid #a855f7;
    color: #a855f7;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .home-button-reset:hover {
    background: #a855f7;
    color: white;
  }

  @media (max-width: 768px) {
    .reset-password-container {
      flex-direction: column;
    }

    .reset-password-illustration {
      padding: 40px 20px;
      min-height: 250px;
    }

    .reset-password-form-section {
      padding: 40px 30px;
    }

    .reset-password-title {
      font-size: 28px;
    }
  }
</style>

<div class="reset-password-wrapper">
  <div class="reset-password-container">
    <!-- Left Side - Illustration -->
    <div class="reset-password-illustration">
      <svg viewBox="0 0 350 350" xmlns="http://www.w3.org/2000/svg">
        <!-- Background cloud shape -->
        <ellipse cx="175" cy="180" rx="140" ry="120" fill="#93c5fd" opacity="0.3"/>
        
        <!-- Security/Lock icons floating -->
        <g opacity="0.7">
          <rect x="80" y="80" width="30" height="35" rx="4" fill="#60a5fa" stroke="#3b82f6" stroke-width="2"/>
          <rect x="85" y="90" width="20" height="20" rx="2" fill="#dbeafe"/>
          <path d="M 95 75 Q 85 65 85 75 L 85 80 L 105 80 L 105 75 Q 105 65 95 75" fill="none" stroke="#3b82f6" stroke-width="3"/>
          
          <circle cx="250" cy="90" r="15" fill="#60a5fa" opacity="0.6"/>
          <rect x="245" y="85" width="10" height="10" rx="2" fill="#dbeafe"/>
        </g>
        
        <!-- Document/Form icons -->
        <rect x="130" y="60" width="40" height="50" rx="4" fill="#e0f2fe" stroke="#3b82f6" stroke-width="2"/>
        <line x1="140" y1="75" x2="160" y2="75" stroke="#60a5fa" stroke-width="2"/>
        <line x1="140" y1="85" x2="160" y2="85" stroke="#60a5fa" stroke-width="2"/>
        <line x1="140" y1="95" x2="155" y2="95" stroke="#60a5fa" stroke-width="2"/>
        
        <!-- Chat/Message bubbles -->
        <rect x="220" y="120" width="50" height="35" rx="8" fill="#ec4899" opacity="0.7"/>
        <circle cx="235" cy="137" r="3" fill="white"/>
        <circle cx="245" cy="137" r="3" fill="white"/>
        <circle cx="255" cy="137" r="3" fill="white"/>
        
        <!-- Question mark icon -->
        <circle cx="90" cy="140" r="18" fill="#a855f7" opacity="0.6"/>
        <text x="90" y="150" font-size="24" font-weight="bold" fill="white" text-anchor="middle">?</text>
        
        <!-- Main person with laptop -->
        <g transform="translate(175, 200)">
          <!-- Head -->
          <circle cx="0" cy="-20" r="22" fill="#8b5a3c"/>
          <!-- Hair -->
          <path d="M -15 -25 Q -10 -35 0 -32 Q 10 -35 15 -25 Q 15 -15 10 -15 L -10 -15 Q -15 -15 -15 -25" fill="#1f2937"/>
          <!-- Face features -->
          <circle cx="-6" cy="-18" r="2" fill="#1f2937"/>
          <circle cx="6" cy="-18" r="2" fill="#1f2937"/>
          <path d="M -5 -10 Q 0 -8 5 -10" fill="none" stroke="#1f2937" stroke-width="1.5"/>
          
          <!-- Body/Shirt -->
          <ellipse cx="0" cy="15" rx="28" ry="32" fill="#ec4899"/>
          
          <!-- Arms -->
          <ellipse cx="-25" cy="20" rx="10" ry="28" fill="#ec4899"/>
          <ellipse cx="25" cy="20" rx="10" ry="28" fill="#ec4899"/>
          
          <!-- Hands -->
          <circle cx="-30" cy="45" r="8" fill="#8b5a3c"/>
          <circle cx="30" cy="45" r="8" fill="#8b5a3c"/>
          
          <!-- Laptop -->
          <rect x="-35" y="40" width="70" height="45" rx="3" fill="#1f2937"/>
          <rect x="-32" y="43" width="64" height="38" rx="2" fill="#60a5fa"/>
          
          <!-- Laptop screen details -->
          <rect x="-25" y="50" width="20" height="3" rx="1" fill="#dbeafe"/>
          <rect x="-25" y="58" width="15" height="3" rx="1" fill="#dbeafe"/>
          <rect x="-25" y="66" width="18" height="3" rx="1" fill="#dbeafe"/>
          
          <!-- Lock icon on screen -->
          <rect x="5" y="55" width="15" height="18" rx="2" fill="#a855f7"/>
          <rect x="8" y="60" width="9" height="10" rx="1" fill="#dbeafe"/>
          <path d="M 12.5 50 Q 8 47 8 52 L 8 55 L 17 55 L 17 52 Q 17 47 12.5 50" fill="none" stroke="#a855f7" stroke-width="2"/>
        </g>
        
        <!-- Decorative elements -->
        <circle cx="280" cy="250" r="8" fill="#c084fc" opacity="0.4"/>
        <circle cx="70" cy="280" r="12" fill="#60a5fa" opacity="0.3"/>
        <circle cx="300" cy="200" r="10" fill="#ec4899" opacity="0.3"/>
      </svg>
    </div>

    <!-- Right Side - Form -->
    <div class="reset-password-form-section">
      <span>
        {% include 'alerts.html' %}
      </span>
      
      <h1 class="reset-password-title">Reset Password</h1>
      
      <form method="post" action="{% url 'set_new_password' %}">
        {% csrf_token %}
        <input type="hidden" name="email" value="{{ email }}">
        <input type="hidden" name="token" value="{{ token }}">
        
        <div class="reset-password-form-group">
          <label for="password1" class="reset-password-label">New Password</label>
          <input type="password" name="password1" id="password1" placeholder="Enter New Password" class="reset-password-input" required>
        </div>
        
        <div class="reset-password-form-group">
          <label for="password2" class="reset-password-label">Confirm New Password</label>
          <input type="password" name="password2" id="password2" placeholder="Confirm New Password" class="reset-password-input" required>
        </div>
        
        <button type="submit" class="reset-password-button">Login</button>
      </form>
      
      <div style="text-align: center;">
        <a href="{% url 'home' %}" class="home-button-reset">Home</a>
      </div>
    </div>
  </div>
</div>

{% endblock %}